(()=>{"use strict";var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}},t=document.getElementsByClassName("_hover");const i=document.querySelectorAll("[data-spollers]");if(i.length>0){const u=Array.from(i).filter((function(e,t,i){return!e.dataset.spollers.split(",")[0]}));u.length>0&&m(u);const p=Array.from(i).filter((function(e,t,i){return e.dataset.spollers.split(",")[0]}));if(p.length>0){const h=[];p.forEach((e=>{const t={},i=e.dataset.spollers.split(",");t.value=i[0],t.type=i[1]?i[1]:"max",t.item=e,h.push(t)}));let g=h.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));g=g.filter((function(e,t,i){return i.indexOf(e)===t})),g.forEach((e=>{const t=e.split(","),i=t[1],n=t[2],r=window.matchMedia(t[0]),s=h.filter((function(e){if(e.value===i&&e.type===n)return!0}));r.addListener((function(){m(s,r)})),m(s,r)}))}function m(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),_(e),e.addEventListener("click",f)):(e.classList.remove("_init"),_(e,!1),e.removeEventListener("click",f))}))}function _(e,t=!0){let i=e.querySelectorAll("[data-spoller]");i.length&&(i=Array.from(i).filter((t=>t.closest("[data-spollers]")===e)),i.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})))}function f(e){const t=e.target;if(t.closest("[data-spoller]")){const i=t.closest("[data-spoller]"),n=i.closest("[data-spollers]"),s=n.hasAttribute("data-one-spoller");n.dataset.spollersSpeed&&parseInt(n.dataset.spollersSpeed),n.querySelectorAll("._slide").length||(s&&!i.classList.contains("_active")&&v(n),i.classList.toggle("_active"),r(i.nextElementSibling,500)),e.preventDefault()}}function v(e){const t=e.querySelector("[data-spoller]._active");e.dataset.spollersSpeed&&parseInt(e.dataset.spollersSpeed),t&&!e.querySelectorAll("._slide").length&&(t.classList.remove("_active"),n(t.nextElementSibling,500))}}let n=(e,t=500)=>{if(e.classList.contains("_slide"))return;e.classList.add("_slide");let i=e.style;i.transitionProperty="height, margin, padding",i.transitionDuration=`${t}ms`,i.height=`${e.offsetHeight}px`,e.offsetHeight,i.overflow="hidden",i.height=0,i.paddingTop=0,i.paddingBottom=0,i.marginTop=0,i.marginBottom=0,setTimeout((()=>{e.hidden=!0,["height","padding-top","padding-bottom","margin-top","margin-bottom","overflow","transition-duration","transition-property"].forEach((e=>i.removeProperty(e))),e.classList.remove("_slide")}),t)},r=(e,t=500)=>{if(e.hidden)return((e,t=500)=>{if(e.classList.contains("_slide"))return;e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let i=e.style,n=e.offsetHeight;i.overflow="hidden",i.height=0,i.paddingTop=0,i.paddingBottom=0,i.marginTop=0,i.marginBottom=0,e.offsetHeight,i.transitionProperty="height, margin, padding",i.transitionDuration=`${t}ms`,i.height=`${n}px`,["padding-top","padding-bottom","margin-top","margin-bottom"].forEach((e=>i.removeProperty(e))),setTimeout((()=>{["height","overflow","transition-duration","transition-property"].forEach((e=>i.removeProperty(e))),e.classList.remove("_slide")}),t)})(e,t);n(e,t)};const s=document.querySelector(".icon-menu");if(s){const y=document.querySelector(".menu__body");s.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),s.classList.toggle("_active"),y.classList.toggle("_active")}))}function o(){let e=document.querySelectorAll("._ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function a(e){const t=e.getAttribute("data-value");""==e.value&&""!=t&&(e.value=t)}function l(e){e.classList.add("_focus"),e.parentElement.classList.add("_focus")}function c(e){e.classList.remove("_focus"),e.parentElement.classList.remove("_focus")}new MutationObserver((e=>{e.forEach((e=>{e.addedNodes[0]&&e.addedNodes[0].classList&&e.addedNodes[0].classList.contains("_ibg")&&o()}))})).observe(document.body,{childList:!0,subtree:!0}),o(),function(e){if(e.length>0)for(let t=0;t<e.length;t++){const i=e[t],n=i.getAttribute("data-value");a(i),""!=i.value&&i.value!=n&&l(i),i.addEventListener("focus",(function(e){i.value==n&&(l(i),i.value="")})),i.addEventListener("blur",(function(e){""==i.value&&(i.value=n,c(i))}))}}(document.querySelectorAll("input[data-value],textarea[data-value]")),window.onload=function(){document.addEventListener("click",(function(i){const r=i.target;if(window.innerWidth>768&&e.any()&&(r.classList.contains("menu__arrow")&&r.closest(".menu__item").classList.toggle("_hover"),!r.closest(".menu__item")&&document.querySelectorAll(".menu__item._hover").length>0&&function(){for(;t[0];)t[0].classList.remove("_hover")}()),r.classList.contains("search-form__icon")?document.querySelector(".search-form").classList.toggle("_active"):!r.closest(".search-form")&&document.querySelectorAll(".search-form._active")&&document.querySelector(".search-form").classList.remove("_active"),r.classList.contains("products__more")&&(async function(e){if(!e.classList.contains("_hold")){e.classList.add("_hold");const t="json/products.json";let i=await fetch(t,{method:"GET"});i.ok?(!function(e){const t=document.querySelector(".products__items");e.products.forEach((e=>{const i=e.id,n=e.url,r=e.image,s=e.title,a=e.text,l=e.price,c=e.priceOld,d=e.shareUrl,u=e.likeUrl,p=e.labels;let m=`<article data-pid="${i}" class="products__item item-product">`,_="";if(p){let e='<div class="item-product__labels">',t="</div>",i="";p.forEach((e=>{i+=`<div class="item-product__label item-product__label_${e.type}">${e.value}</div>`})),_+=e,_+=i,_+=t}let f="";f='<div class="item-product__prices">',f+=`<div class="item-product__price">Rp ${l}</div>`,c&&(f+=`<div class="item-product__price item-product__price_old">Rp ${c}</div>`),f+="</div>";let v="";v+='<div class="item-product__body">',v+=`\n                <div class="item-product__content">\n                    <h3 class="item-product__title">${s}</h3>\n                    <div class="item-product__text">${a}</div>\n                </div>\n            `,v+=f,v+=`\n                <div class="item-product__actions actions-product">\n                    <div class="actions-product__body">\n                        <a href="" class="actions-product__button btn btn_white">Add to cart</a>\n                        <a href="${d}" class="actions-product__link _icon-share">Share</a>\n                        <a href="${u}" class="actions-product__link _icon-favorite">Like</a>\n                    </div>\n                </div>\n            `,v+="</div>";let h="";h+=m,h+=_,h+=`\n                <a href="${n}" class="item-product__image _ibg">\n                    <img src="img/products/${r}" alt="${s}">\n                </a>\n            `,h+=v,h+="</article>",t.insertAdjacentHTML("beforeend",h),o()}))}(await i.json()),e.classList.remove("_hold"),e.remove()):alert("Ошибка")}}(r),i.preventDefault()),r.classList.contains("actions-product__button")){const e=r.closest(".item-product").dataset.pid;!function(e,t){if(!e.classList.contains("_hold")){e.classList.add("_hold"),e.classList.add("_fly");const i=document.querySelector(".cart-header__icon"),r=document.querySelector(`[data-pid="${t}"]`).querySelector(".item-product__image"),s=r.cloneNode(!0),o=r.offsetWidth,a=r.offsetHeight,l=r.getBoundingClientRect().top,c=r.getBoundingClientRect().left;s.setAttribute("class","_flyImage _ibg"),s.style.cssText=`\n          left: ${c}px;\n          top: ${l}px;\n          width: ${o}px;\n          height: ${a}px;\n          `,document.body.append(s);const d=i.getBoundingClientRect().top,u=i.getBoundingClientRect().left;s.style.cssText=`\n          left: ${u}px;\n          top: ${d}px;\n          width: 0px;\n          height: 0px;\n          opacity: 0;\n          `,s.addEventListener("transitionend",(()=>{e.classList.contains("_fly")&&(s.remove(),n(e,t),e.classList.remove("_fly"))}))}}(r,e),i.preventDefault()}if(r.classList.contains("cart-header__icon")||r.closest(".cart-header__icon")?(document.querySelector(".cart-list").children.length>0&&document.querySelector(".cart-header").classList.toggle("_active"),i.preventDefault()):r.closest(".cart-header")||r.classList.contains("actions-product__button")||document.querySelector(".cart-header").classList.remove("_active"),r.classList.contains("cart-list__delete")){const e=r.closest(".cart-list__item").dataset.cartPid;n(r,e,!1),i.preventDefault()}}));const i=document.querySelector(".header");function n(e,t,i=!0){const n=document.querySelector(".cart-header"),r=n.querySelector(".cart-header__icon"),s=r.querySelector("span"),a=document.querySelector(`[data-cart-pid="${t}"]`),l=document.querySelector(".cart-list");if(i){if(s?s.innerHTML=++s.innerHTML:r.insertAdjacentHTML("beforeend","<span>1</span>"),a){const e=a.querySelector(".cart-list__quantity span");e.innerHTML=++e.innerHTML}else{const e=document.querySelector(`[data-pid="${t}"]`),i=`\n               <a href="" class='cart-list__image _ibg'>${e.querySelector(".item-product__image").innerHTML}</a>\n               <div class='cart-list__body'>\n                   <a href="" class='cart-list__title'>${e.querySelector(".item-product__title").innerHTML}</a>\n                   <div class='cart-list__quantity'>Quantity: <span>1</span></div>\n                   <a href='' class='cart-list__delete'>Delete</a>\n               </div>`;l.insertAdjacentHTML("beforeend",`<li data-cart-pid='${t}' class='cart-list__item'>${i}</li>`),o()}e.classList.remove("_hold")}else{const e=a.querySelector(".cart-list__quantity span");e.innerHTML=--e.innerHTML,parseInt(e.innerHTML)||a.remove();const t=--s.innerHTML;t?s.innerHTML=t:(s.remove(),n.classList.remove("_active"))}}new IntersectionObserver((function(e,t){e[0].isIntersecting?i.classList.remove("_scroll"):i.classList.add("_scroll")})).observe(i);const r=document.querySelector(".furniture__body");if(r&&!e.any()){const s=document.querySelector(".furniture__items"),a=document.querySelectorAll(".furniture__column"),l=r.dataset.speed;let c=0,d=0;function u(){let e=0;a.forEach((t=>{e+=t.offsetWidth}));const t=e-r.offsetWidth,i=Math.floor(d-c);c+=i*l;let n=t/200*c;s.style.cssText=`transform: translate3d(${-n}px,0,0)`,Math.abs(i)>0?requestAnimationFrame(u):r.classList.remove("_init")}r.addEventListener("mousemove",(function(e){const t=r.offsetWidth,i=e.pageX-t/2;d=i/t*200,r.classList.contains("_init")||(requestAnimationFrame(u),r.classList.add("_init"))}))}};let d=document.querySelectorAll("._swiper");if(d)for(let b=0;b<d.length;b++){let L=d[b];if(!L.classList.contains("swiper-bild")){let w=L.children;if(w)for(let E=0;E<w.length;E++)w[E].classList.add("swiper-slide");let S=L.innerHTML,q=document.createElement("div");q.classList.add("swiper-wrapper"),q.innerHTML=S,L.innerHTML="",L.appendChild(q),L.classList.add("swiper-bild")}L.classList.contains("_gallery")}new Swiper(".about__slider",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,navigation:{nextEl:".about__more .more__item_next",prevEl:".about__more .more__item_prev"},on:{lazyImageReady:function(){ibg()}}}),document.querySelector(".slider-main__body")&&new Swiper(".slider-main__body",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,pagination:{el:".controls-slider-main__dotts",clickable:!0},navigation:{nextEl:".slider-main .slider-arrow__next",prevEl:".slider-main .slider-arrow__prev"}}),document.querySelector(".slider-rooms__body")&&new Swiper(".slider-rooms__body",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:24,speed:800,loop:!0,watchOverflow:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,pagination:{el:".slider-rooms__dotts",clickable:!0},navigation:{nextEl:".slider-rooms .slider-arrow__next",prevEl:".slider-rooms .slider-arrow__prev"}}),document.querySelector(".slider-tips__body")&&new Swiper(".slider-tips__body",{observer:!0,observeParents:!0,slidesPerView:3,spaceBetween:32,speed:800,loop:!0,watchOverflow:!0,pagination:{el:".slider-tips__dotts",clickable:!0},navigation:{nextEl:".slider-tips .slider-arrow__next",prevEl:".slider-tips .slider-arrow__prev"},breakpoints:{320:{slidesPerView:1.1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},992:{slidesPerView:3,spaceBetween:15}}}),function(e="max"){const t="_dynamic_adapt_",i="data-da",n=function(){const t=[];return[...document.querySelectorAll(`[${i}]`)].forEach((e=>{const n=e.getAttribute(i),[r,s,o]=n.split(",").map((e=>e.trim())),a=document.querySelector(r);var l;a&&t.push({parent:e.parentElement,element:e,to:a,breakpoint:s??"767",order:void 0!==o?(l=o,isNaN(l)?o:Number(o)):"last",index:-1})})),function(t){const i="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*i:"last"===e.order||"first"===t.order?1*i:0:(e.breakpoint-t.breakpoint)*i))}(t)}();[...new Set(n.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,i]=e.split(",");return{query:t,breakpoint:i}})).forEach((e=>{const i=window.matchMedia(e.query),r=function(e,i){return function(){e.matches?(i.forEach((e=>{!function(e){const{to:i,element:n,order:r}=e;e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),n.classList.add(t),"last"===r||r>=i.children.length?i.append(n):"first"!==r?i.children[r].before(n):i.prepend(n)}(e)})),i.reverse()):(i.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:i,element:n,index:r}=e;n.classList.remove(t),r>=0&&i.children[r]?i.children[r].before(n):i.append(n)}(e)})),i.reverse())}}(i,n.filter((({breakpoint:t})=>t===e.breakpoint)));i.addEventListener("change",r),r()}))}()})();